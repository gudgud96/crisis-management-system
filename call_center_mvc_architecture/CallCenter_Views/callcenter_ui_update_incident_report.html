<!DOCTYPE html>
<html>
    <head>
        <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <style>
    thead,
    tfoot {
        background-color: #3f87a6;
        color: #fff;
    }

    tbody {
        background-color: #e4f0f5;
    }

    caption {
        padding: 10px;
        caption-side: bottom;
    }

    table {
        border-collapse: collapse;
        border: 2px solid rgb(200, 200, 200);
        letter-spacing: 1px;
        font-family: sans-serif;
        font-size: 1.0rem;
    }

    td,
    th {
        border: 1px solid rgb(190, 190, 190);
        padding: 5px 10px;
    }

    td {
        text-align: center;
    }

    tr:hover{
     background-color:lightyellow;
          }

    </style>


    </head>
    <body background="https://www.wallpaperboulevard.com/Images/product/0015963_light-green-renaissance-texture-l.jpeg">
        <!-- The {{ argument_name }} is used below. When we call this html file from the Python file, the Python file pass in an argument that this html file would use. -->
        <h3>&nbsp; Update Incident Reports</h3>
        <div>&nbsp;</div>
        <h4>&nbsp; Details of Incident Report sorted chronologically:</h4>

        <div>&nbsp;</div>



        <input type="text" id="search_name_keyword" onkeyup="search_by_name_Function()" placeholder="Search by names..">
        <input type="text" id="search_mobile_no_keyword" onkeyup="search_by_mobile_no_Function()" placeholder="Search by mobile no..">
        <input type="text" id="search_location_keyword" onkeyup="search_by_location_Function()" placeholder="Search by location..">

        <table id="incident_report_table">
            <thead>
                {%- for column in columns %}
            <th>{{ column }}</th>
            {%- endfor %}
            </thead>

            <tbody>
                {%- for row in items %}
                <tr hover {background: red;} onclick="window.location.href='{{ url_for('row_detail_for_update', rowData=row) }}';">
                    {%- for i in row %}
                    <td>{{ i }}</td>
                    {%- endfor %}
                </tr>
                {%- endfor %}
            </tbody>
        </table>

        <script>
        function search_by_name_Function() {
          var input, filter, table, tr, td, i;
          input = document.getElementById("search_name_keyword");
          filter = input.value.toUpperCase();
          table = document.getElementById("incident_report_table");
          tr = table.getElementsByTagName("tr");
          for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[2];
            if (td) {
              if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
              } else {
                tr[i].style.display = "none";
              }
            }
          }
        }

        function search_by_mobile_no_Function() {
          var input, filter, table, tr, td, i;
          input = document.getElementById("search_mobile_no_keyword");
          filter = input.value.toUpperCase();
          table = document.getElementById("incident_report_table");
          tr = table.getElementsByTagName("tr");
          for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[3];
            if (td) {
              if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
              } else {
                tr[i].style.display = "none";
              }
            }
          }
        }



        function search_by_location_Function() {
          var input, filter, table, tr, td, i;
          input = document.getElementById("search_location_keyword");
          filter = input.value.toUpperCase();
          table = document.getElementById("incident_report_table");
          tr = table.getElementsByTagName("tr");
          for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[4];
            if (td) {
              if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
              } else {
                tr[i].style.display = "none";
              }
            }
          }
        }
        </script>


        <div>&nbsp;</div>
        <div>&nbsp;</div>
        <div>&nbsp;</div>

        <form method="POST">

            <div>&nbsp;</div>
            <!-- "btn btn-primary" is a bootstrap class that we use to create a submit button -->
            <input class="btn btn-primary" type="submit" value="Go Back" style="margin-left: 20px;">

        </form>

    </body>
</html>
